#!/usr/bin/env bash
set -euo pipefail

mostrar_ayuda() {
  cat <<'AYUDA'
Uso: pre-commit [-h]

Hook de Git ejecutado antes de confirmar cambios.

Opciones:
  -h    Muestra esta ayuda y termina.
AYUDA
}

while getopts ":h" opcion; do
  case "${opcion}" in
    h)
      mostrar_ayuda
      exit 0
      ;;
    ?)
      echo "Opción desconocida: -${OPTARG}" >&2
      mostrar_ayuda >&2
      exit 1
      ;;
  esac
done

shift $((OPTIND - 1))

if [ "$#" -ne 0 ]; then
  echo "Error: pre-commit no espera argumentos posicionales." >&2
  exit 1
fi

echo "[pre-commit] Ejecución de validaciones básicas antes del commit."
# TODO: Agregar validaciones de estilo y ejecución de pruebas rápidas.

exit 0
